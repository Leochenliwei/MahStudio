# 实现算分规则配置弹窗组件

## 一、组件结构设计

### 1. 主容器
- 创建一个弹窗形式的容器，包含头部、主体和底部
- 头部显示标题和关闭按钮
- 主体包含规则卡片和修正部分
- 底部包含操作按钮（取消、保存、保存并关闭）

### 2. 规则卡片
- 实现可展开/折叠的规则卡片
- 每个卡片包含序号、标题和操作按钮
- 展开后显示条件和操作逻辑

### 3. 公式编辑器
- 实现Chip容器，支持不同类型的芯片（对象、属性、逻辑、数值）
- 支持芯片的点击和编辑
- 支持运算符的添加

### 4. 右键菜单
- 实现卡片的右键菜单功能
- 支持重命名、复制、新增、删除、上移、下移操作

### 5. 番数/分数修正
- 实现修正部分的规则卡片
- 支持条件和操作的配置

## 二、功能实现

### 1. 交互逻辑
- 实现卡片的展开/折叠功能
- 实现右键菜单的显示和操作
- 实现卡片序号的自动更新
- 实现卡片的复制、新增、删除、移动功能

### 2. 数据结构
- 设计规则卡片的数据结构
- 设计公式编辑器的数据结构
- 设计修正部分的数据结构

### 3. 样式实现
- 根据HTML原型实现组件样式
- 确保样式与原型一致
- 实现响应式布局

## 三、技术实现

### 1. Vue 3 组件
- 使用Vue 3的组合式API
- 使用v-for渲染规则卡片
- 使用v-show控制卡片的展开/折叠

### 2. 事件处理
- 实现卡片点击事件
- 实现右键菜单事件
- 实现Chip点击事件

### 3. 数据管理
- 使用reactive管理组件状态
- 实现卡片数据的增删改查

## 四、集成测试

### 1. 组件测试
- 测试组件的渲染
- 测试组件的交互功能
- 测试组件的响应式布局

### 2. 集成测试
- 测试组件与其他组件的集成
- 测试组件的唤起和关闭

## 五、实现步骤

1. 创建CalcScoreConfig.vue组件文件
2. 实现组件的基本结构和样式
3. 实现规则卡片的展开/折叠功能
4. 实现公式编辑器和Chip容器
5. 实现右键菜单功能
6. 实现番数/分数修正部分
7. 实现卡片的复制、新增、删除、移动功能
8. 测试组件的功能和样式
9. 集成到项目中，确保可以被正确唤起