# 实现算分规则配置弹窗

## 项目分析
- 项目使用Vue 3框架开发，采用Composition API
- 现有的AdvancedConfig.vue组件支持radio、checkbox、select、select并联等控件类型
- 每个控件类型有对应的编辑弹窗和预览逻辑
- 需要添加对button类型控件的支持，特别是editorType为calscore的情况

## 实现计划

### 1. 添加button类型控件支持
- 在AdvancedConfig.vue中添加button类型的预览逻辑
- 在addComponent函数中添加button类型的初始化逻辑
- 在getComponentTypeText函数中添加button类型的文本映射

### 2. 创建算分规则配置弹窗组件
- 创建新组件CalcScoreConfig.vue，基于提供的算分编辑器.html实现
- 实现弹窗的基本结构：头部、主体内容、底部按钮
- 实现规则卡片的折叠/展开功能
- 实现右键菜单功能（重命名、复制、删除、上移、下移）
- 实现Chip组件的点击编辑功能

### 3. 集成弹窗到组件编辑流程
- 在AdvancedConfig.vue中添加showCalcScoreConfig状态
- 添加openCalcScoreConfig和closeCalcScoreConfig函数
- 修改editComponent函数，当组件类型为button且editorType为calscore时，打开算分规则配置弹窗

### 4. 数据结构设计
- 为button类型控件设计合适的数据结构，包含titleWidth、itemWidth、extend等属性
- 为算分规则设计数据结构，包含规则卡片、条件、操作等信息

### 5. 样式和交互优化
- 保持与现有项目的样式一致性
- 优化弹窗的响应式布局
- 添加适当的动画效果提升用户体验

### 6. 测试和验证
- 测试button类型控件的添加和编辑功能
- 测试算分规则配置弹窗的各项功能
- 验证数据的保存和加载是否正常

## 技术要点
- 使用Vue 3的Composition API
- 组件化设计，将算分编辑器拆分为可复用的组件
- 响应式数据管理，确保弹窗与父组件的数据同步
- 保持代码风格与现有项目一致，添加必要的注释