# 标签页打开逻辑修改 - 实现计划

## [ ] 任务 1: 修改 openGameTab 函数以在新浏览器标签页中打开工作台
- **优先级**: P0
- **依赖**: 无
- **描述**:
  - 修改 openGameTab 函数，使用 window.open() 方法在新的浏览器标签页中打开工作台页面
  - 构建完整的 URL，包括所有必要的参数
  - 移除原有的标签页创建逻辑，因为工作台现在使用浏览器标签页
- **验收标准**: AC-1, AC-3
- **测试要求**:
  - `programmatic` TR-1.1: 验证 openGameTab 函数使用 window.open() 方法
  - `programmatic` TR-1.2: 验证 URL 构建正确，包含所有必要参数
  - `human-judgment` TR-1.3: 验证工作台页面在新的浏览器标签页中打开
- **备注**: 确保 URL 构建正确，包括基础路径和查询参数

## [ ] 任务 2: 保持 openGameDirectoryTab 函数不变
- **优先级**: P1
- **依赖**: 任务 1
- **描述**:
  - 保持 openGameDirectoryTab 函数的现有逻辑不变
  - 确保游戏目录页面继续在项目自身的标签页中打开
- **验收标准**: AC-2
- **测试要求**:
  - `human-judgment` TR-2.1: 验证游戏目录页面在项目自身的标签页中打开
  - `human-judgment` TR-2.2: 验证标签页管理功能（添加、关闭、切换）正常
- **备注**: 确保现有标签页管理功能不受影响

## [ ] 任务 3: 修改 watch 函数以适应新的打开逻辑
- **优先级**: P1
- **依赖**: 任务 1
- **描述**:
  - 修改 watch 函数，处理工作台路由的变化
  - 确保工作台路由变化时不会创建项目标签页
- **验收标准**: AC-1, AC-3
- **测试要求**:
  - `programmatic` TR-3.1: 验证 watch 函数正确处理工作台路由变化
  - `human-judgment` TR-3.2: 验证工作台路由变化时不会创建项目标签页
- **备注**: 确保路由监听逻辑与新的打开方式兼容

## [ ] 任务 4: 测试修改后的功能
- **优先级**: P2
- **依赖**: 任务 1, 任务 2, 任务 3
- **描述**:
  - 测试工作台页面在新浏览器标签页中打开
  - 测试游戏目录页面在项目标签页中打开
  - 测试路由参数正确传递
  - 测试标签页管理功能正常
- **验收标准**: AC-1, AC-2, AC-3, AC-4
- **测试要求**:
  - `human-judgment` TR-4.1: 测试从游戏目录页面点击编辑按钮，验证工作台在新标签页打开
  - `human-judgment` TR-4.2: 测试从首页点击游戏目录链接，验证游戏目录在项目标签页打开
  - `programmatic` TR-4.3: 测试路由参数传递是否正确
  - `human-judgment` TR-4.4: 测试标签页管理功能（添加、关闭、切换）
- **备注**: 确保所有功能正常工作，无回归问题